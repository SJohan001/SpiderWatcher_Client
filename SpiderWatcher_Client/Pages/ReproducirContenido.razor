@page "/reproducirContenido"

@using SpiderWatcher_Client.DTOs.ContentDTO
@using Newtonsoft.Json
@inject AuthenticationService AuthService
@inject NavigationManager NavigationManager
@inject HttpClient Http

<h3>Reproducir Contenido</h3>

<div class="video-container">
    <video id="video" src="@readContentDTO.VideoReference" controls></video>
    <div class="controls">
        <button @onclick="RewindClicked" class="btn btn-dark">⏪</button>
        <button @onclick="PlayPauseClicked" class="btn btn-dark">@playPauseButtonText</button>
        <button @onclick="ForwardClicked" class="btn btn-dark">⏩</button>
    </div>
    <button @onclick="BackButtonClicked" class="btn btn-dark back-button">← Atrás</button>
</div>

@code {
    private string playPauseButtonText = "⏯️";
    ReadContentDTO readContentDTO = new ReadContentDTO();

    private async Task PlayPauseClicked()
    {
        if (playPauseButtonText == "⏯️")
            playPauseButtonText = "▶️";
        else
            playPauseButtonText = "⏯️";
    }

    private async Task RewindClicked()
    {
        // Rebobinar
    }

    private async Task ForwardClicked()
    {
        // Adelantar
    }

    private async Task BackButtonClicked()
    {
        // Regresar
        NavigationManager.NavigateTo("/visualizarContenido");
    }
}

<style>
    .video-container {
        position: relative;
        width: 100%;
        background-color: #343a40; 
        color: white; 
    }

    .video-container video {
        width: 100%;
        display: block;
    }

    .controls {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
    }

    .controls button {
        margin: 0 10px; 
    }

    .back-button {
        position: absolute;
        top: 10px;
        left: 10px;
    }
</style>